$(document).ready(function(){async function r(t){let r=new FormData;r.append("file",t.target.files[0]);try{const t=await fetch("/api/images",{method:"POST",headers:{Accept:"*/*"},body:r});if(t.ok){const r=await t.json();i.value=r.link;n.src=r.link;n.style.display="block"}else console.error("Error uploading featured image")}catch(u){console.error("An error occurred during the upload",u)}}function u(){$("#pageTitle").val("");$("#PageContent").val("");$("#description").val("");$("#featuredImageUrl").val("");$("#SelectedTag").val("");$("#CategoriesName").val("");$("#featuredImageUpload").val("")}$("#createPost").submit(function(n){n.preventDefault();var t={PageTitle:$("#pageTitle").val(),PageContent:$("#PageContent").val(),Description:$("#description").val(),Author:$("#author").val(),FeaturedImageUrl:$("#featuredImageUrl").val(),SelectedTag:$("#SelectedTag").val(),CategoriesName:$("#CategoriesName").val(),FeaturedImageUpload:$("#featuredImageUpload").val()};$.ajax({url:'@Url.Action("CreatePost", "BlogPost")',type:"POST",data:t,success:function(){$("#successMessage").fadeIn().delay(2e3).fadeOut();u()},error:function(){alert("An error occurred while creating the blog post.")}})});var f=new FroalaEditor("#PageContent",{imageUploadURL:"/api/images"});const t=document.getElementById("featuredImageUpload"),i=document.getElementById("featuredImageUrl"),n=document.getElementById("featuredImageDisplay");t.addEventListener("change",r)});